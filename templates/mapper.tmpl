
<!DOCTYPE html>
<html>
	<head>
		<title>{{ .title }}</title>
		<meta name="viewport" content="initial-scale=1.0">
		<meta charset="utf-8">
		<style>
			html, body {
				height: 100%;
				margin: 0;
				padding: 0;
			}
			#map {
				height: 100%;
			}
		</style>
	</head>
	<body>
		<div id="map"></div>
		<script>
			var map;
			var infowindow;
			
			function initMap() {
				infoWindow = new google.maps.InfoWindow();
				
				map = new google.maps.Map(document.getElementById('map'), {
					center: {lat: 0, lng: 0},
					zoom: 2
				});
				map.data.loadGeoJson('top.json');

				map.data.addListener('click', function(event) {
					var myHTML = event.feature.getProperty("content");
					infowindow.setContent("<div style='width:150px; text-align: center;'>"+myHTML+"</div>");
					infowindow.setPosition(event.feature.getGeometry().get());
					infowindow.setOptions({pixelOffset: new google.maps.Size(0,-30)});
					infowindow.open(map);
				});
			}

			
		</script>
		<script src="https://maps.googleapis.com/maps/api/js?key={{ .key }}&callback=initMap"
		async defer></script>
	</body>
</html>
